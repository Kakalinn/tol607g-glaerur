\title{Rúmfræði}
\author{Bergur Snorrason}
\date{\today}

\begin{document}

\frame{\titlepage}

\section{Einföld rúmfræði}
\subsection{Hornaföll}
\env{frame}
{
    \env{columns}
    {
        \env{column}
        {
            {0.7\textwidth}
            \env{itemize}
            {
                \item<1-> Þríhyrningur er sagður rétthyrndur ef eitt horna hans er $90^{\circ}$.
                \item<2-> Fyrir rétthyrnda þríhyrninga gildir:
                \env{itemize}
                {
                    \item<3-> $A = L\cos\theta$.
                    \item<4-> $M = L\sin\theta$.
                    \item<5-> $M = A\dfrac{\sin\theta}{\cos\theta} = A\tan\theta$.
                }
                \item<6-> Einnig gildir regla Pýþagorasar, $L^2 = A^2 + M^2$.
            }
        }
        \env{column}
        {
            {0.3\textwidth}
            \slidewidth
            {
                \env{tikzpicture}
                {
                    \coordinate (A) at (0, 0) {};
                    \coordinate (B) at (4, 0) {};
                    \coordinate (C) at (0, 3) {};
                    \node at (3.2, 0.3) {$\theta$};

                    \draw (A) -- node[below] {$A$} (B);
                    \draw (B) -- node[above] {$L$} (C);
                    \draw (C) -- node[left] {$M$} (A);
                    \draw pic[draw, angle radius = 0.5cm] {angle=C--B--A};
                }
            }
        }
    }
}

\subsection{Reglur um þríhyrninga}
\env{frame}
{
    \env{columns}
    {
        \env{column}
        {
            {0.7\textwidth}
            \env{itemize}
            {
                \item<1-> Almennar gildir um þríhyrninga:
                \env{itemize}
                {
                    \item<2-> $BC\sin a = AC\sin b = AB\sin c$ (sínus reglan).
                    \item<3-> $A^2 = B^2 + C^2 - 2BC\cos a$ (kósínus reglan)
                }
                \item<4-> Kósínus reglan er stundum kölluð ,,alhæfða regla Pýthagorasar''.
            }
        }
        \env{column}
        {
            {0.3\textwidth}
            \slidewidth
            {
                \env{tikzpicture}
                {
                    \coordinate (A) at (0, 0) {};
                    \node at (0.60, 0.4) {$b$};
                    \coordinate (B) at (4, 0) {};
                    \node at (3.4, 0.4) {$c$};
                    \coordinate (C) at (2, 3) {};
                    \node at (2, 2.2) {$a$};

                    \draw (A) -- node[below] {$A$} (B);
                    \draw (B) -- node[above] {$B$} (C);
                    \draw (C) -- node[left] {$C$} (A);
                    \draw pic[draw, angle radius = 0.5cm] {angle=B--A--C};
                    \draw pic[draw, angle radius = 0.5cm] {angle=A--C--B};
                    \draw pic[draw, angle radius = 0.5cm] {angle=C--B--A};
                }
            }
        }
    }
}

\section{Dæmi: NN and the Optical Illusion - Codeforces}
\subsection{Lýsing}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Tökum dæmi.
        \item<2-> Þér er gefin heiltölu $n$ og rauntölu $r$.
        \item<3-> Þú teiknar hring á blað með geilsa $r$.
        \item<4-> Síðan vilt þú teikna $n$ jafn stóra hringi í kringum hringinn þinn þannig að þeir skeri hringinn þinn og aðlæga hringi
                    í nákvæmlega einum punkti.
        \item<5-> Hver þarf geilsi ytri hringjanna að vera?
        \item<6-> https://codeforces.com/problemset/problem/1100/C
    }
}

\subsection{Lausn}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Ef $n = 6$ fæst eftirfarandi mynd, þar sem $R$ er svarið.
        \item<2-> Sjáum að fjarlægðin frá miðju myndarinnar að miðju ytri hringjanna er
                    $r + R$. Við fáum því eftirfarandi jafnarma þríhyrning.
    }
    \center
    \env{tikzpicture}
    {
        \coordinate (O) at (0, 0) {};
        \coordinate (A) at (1, 0) {};
        \coordinate (B) at (-1, 0) {};
        \coordinate (C) at (0.5, 0.8660254038) {};
        \coordinate (D) at (0.5, -0.8660254038) {};
        \coordinate (E) at (-0.5, -0.8660254038) {};
        \coordinate (F) at (-0.5, 0.8660254038) {};

        \coordinate (AA) at (2,0) {};
        \coordinate (BB) at (-2,0) {};
        \coordinate (CC) at (1,1.732050808) {};
        \coordinate (DD) at (1,-1.732050808) {};
        \coordinate (EE) at (-1,-1.732050808) {};
        \coordinate (FF) at (-1,1.732050808) {};

        \draw (O) circle (1);
        \draw[dashed] (AA) circle (1);
        \draw[dashed] (BB) circle (1);
        \draw[dashed] (CC) circle (1);
        \draw[dashed] (DD) circle (1);
        \draw[dashed] (EE) circle (1);
        \draw[dashed] (FF) circle (1);

        \onslide<all:1>
        {
            \draw (O) -- node[above] {$r$} (A);
            \draw (E) -- node[left] {$R$} (EE);
        }
        \onslide<all:2>
        {
            \draw (O) -- node[above] {$r + R$} (AA);
            \draw (O) -- node[left] {$r + R$} (DD);
            \draw (AA) -- node[right] {$2R$} (DD);
        }
    }
}

\env{frame}
{
    \env{columns}
    {
        \env{column}
        {
            {0.7\textwidth}
            \env{itemize}
            {
                \item<1-> Nú er $\theta = \dfrac{360^{\circ}}{n}$ og $\omega = \dfrac{180^{\circ} - \theta}{2}$.
                \item<2-> Sínus reglan gefur okkur loks að
                \env{align*}
                {
                    &\frac{2R}{\sin \theta} = \frac{r + R}{\sin \omega}\\
                    \Rightarrow & 2R\sin\omega = r\sin\theta + R\sin\theta\\
                    \Rightarrow & 2R\sin\omega - R\sin\theta = r\sin\theta \\
                    \Rightarrow & R = \frac{r\sin\theta}{2\sin\omega - \sin\theta}.
                }
            }
        }
        \env{column}
        {
            {0.3\textwidth}
            \center
            \env{tikzpicture}
            {
                \coordinate (O) at (0, 0) {};
                \coordinate (A) at (1, 0) {};
                \coordinate (B) at (-1, 0) {};
                \coordinate (C) at (0.5, 0.8660254038) {};
                \coordinate (D) at (0.5, -0.8660254038) {};
                \coordinate (E) at (-0.5, -0.8660254038) {};
                \coordinate (F) at (-0.5, 0.8660254038) {};

                \coordinate (AA) at (2,0) {};
                \coordinate (BB) at (-2,0) {};
                \coordinate (CC) at (1,1.732050808) {};
                \coordinate (DD) at (1,-1.732050808) {};
                \coordinate (EE) at (-1,-1.732050808) {};
                \coordinate (FF) at (-1,1.732050808) {};

                \draw (O) -- node[above] {$r + R$} (AA);
                \draw (O) -- node[left] {$r + R$} (DD);
                \draw (AA) -- node[right] {$2R$} (DD);

                \draw pic[draw, angle radius = 0.5cm] {angle=O--AA--DD};
                \draw pic[draw, angle radius = 0.5cm] {angle=AA--DD--O};
                \draw pic[draw, angle radius = 0.5cm] {angle=DD--O--AA};
                \node at (0.6, -0.4) {$\theta$};
                \node at (1, -1.032050808) {$\omega$};
                \node at (1.4, -0.4) {$\omega$};
            }
        }
    }
}

\subsection{Útfærsla}
\env{frame}
{
    \selectcode{code/nn.c}{4}{12}
}

\section{Tvinntölur}
\subsection{Skilgreining tvinntalna}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Skilgreinum mengið $\mathbb{C} := \mathbb{R} \times \mathbb{R}$.
        \item<2-> Skilgreinum svo samlagningu á $\mathbb{C}$ þannig að fyrir $(a, b), (c, d) \in \mathbb{C}$ þá er
        \[
            (a, b) + (c, d) = (a + c, b + d).
        \]
        \item<3-> Skilgreinum svo margföldun á $\mathbb{C}$ þannig að fyrir $(a, b), (c, d) \in \mathbb{C}$ þá er
        \[
            (a, b) \cdot (c, d) = (ac - bd, ad + bc).
        \]
        \item<4-> Við táknum iðulega $(0, 1) \in \mathbb{C}$ með $i$ og $(x, y) \in \mathbb{C}$ með $x + yi$.
        \item<5-> Takið eftir að $(x, y) = (x, 0) + i \cdot (y, 0)$.
        \item<6-> Tölurnar í $\mathbb{C}$ köllum við \emph{tvinntölur}.
    }
}

\subsection{Aðgerðir tvinntalna}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Ef $z = x + yi \in \mathbb{C}$ þá...
        \env{itemize}
        {
            \item<2-> ...köllum við $x$ \emph{raunhluta} $z$ og $y$ \emph{þverhluta} $z$.
            \item<3-> ...er \emph{lengd} $z$ gefin með $|z| = \sqrt{x^2 + y^2}$.
            \item<4-> ...köllum við $x - yi$ \emph{samoka} $z$, táknað $\overline{z}$.
            \item<5-> ...köllum hornið sem $(x, y)$ myndar við jákvæða hluta x-ás í $(0, 0)$ \emph{stefnuhorn} $z$
                        og táknum það með $\operatorname{Arg} z$.
        }
    }
}

\subsection{Rúmfræðilegar túlkun tvinntalna}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Látum nú $z, w \in \mathbb{C}$.
        \item<2-> Þá er rúmfræðileg túlkun $z + w$ einfaldlega hliðrun á $z$ um $w$ (eða öfugt).
        \item<3-> Einnig, ef $|w| = 1$ þá er rúmfræðileg túlkun $z \cdot w$ snúningur á $z$ í kringum $0$ um $\operatorname{Arg} w$ gráður.
        \item<4-> Ef $|z| = r$ og $\operatorname{Arg} z = \theta$ þá skrifum við oft $z = re^{i\theta}$.
        \item<5-> Ef $z = r_1e^{i\theta_1}$ og $w = r_2e^{i\theta_2}$ þá er $z \cdot w = r_1r_2e^{i(\theta_1 + \theta_2)}$.
        \item<6-> Þetta eru dæmi um hvernig við getum stytt okkur leiðir í rúmfræði með því að nota tvinntölur.
        \item<7-> Fleiri (minna augljós) dæmi koma á eftir.
    }
}

\section{Rúmfræði í forritun}
\subsection{Yfirlit}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Við munum bara fjalla um tvívíða rúmfræði í þessum fyrirlestri.
        \item<2-> Þegar leysa þarf þrívíð rúmfræði dæmi er oft góð hugmynd að byrja
                    á að leysa dæmin í tveimur víddum (ef unnt er) og reyna svo að yfirfæra tvívíðu lausnina í þriðju víddina.
        \item<3-> Hingað til í námskeiðinu höfum við að mestu fengist við heiltölur og stöku sinnum þurft að vinna með fleytitölur.
        \item<4-> Í rúmfræði þurfum við þó oft að vinna með fleytitölur.
        \item<5-> Þegar við notum fleytitölur er mikilvægt að passa að samanburðir er ekki fullkomnir.
        \item<6-> Við látum því duga að tvær tölur sé \emph{nógu} líkar, í vissum skilningi, til að þær séu jafnar.
    }
}

\subsection{Samanburður fleytitalna}
\env{frame}
{
    \selectcode{code/comp.c}{3}{15}
    \code{code/comp.out}
}

\subsection{Punktar}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Þegar kemur að því að geyma punkta í forritun munum við notast við tvinntölur.
        \item<2-> Þó þessi aðgerð gæti verið nokkuð heimulleg þá er hún þægileg og fljótleg í útfærslu.
        \item<3-> Hennar helsti kostur er að grunnaðgerðir á tvinntölum eru útfærðar í mörgum forritunarmálum.
    }
}

\subsection{Innbyggð föll fyrir tvinntölur í C}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Fallið \ilcode{creal(p)} skilar $x$-hniti $p$.
        \item<2-> Fallið \ilcode{cimag(p)} skilar $y$-hniti $p$.
        \item<3-> Fallið \ilcode{cabs(p)} skilar fjarlægð $p$ frá $(0, 0)$.
        \item<4-> Fallið \ilcode{cabs(p - q)} skilar fjarlægð milli $p$ og $q$.
        \item<5-> Fallið \ilcode{carg(p)} skilar stefnuhorninu $p$.
        \item<6-> Fallið \ilcode{conj(p)} speglar $p$ um $x$-ás.
    }
}

\subsection{Tvinntölur sem punktar}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Við notum svo \ilcode{typedef double complex pt;}.
        \item<2-> Eftir það getum við skilgreint punktar með \ilcode{pt p = x + I*y;}.
        \item<3-> Þessi punktur svarar til punktsins $(x, y)$.
    }
}

\section{Sýnidæmi}
\subsection{Lýsing}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Skoðum dæmi.
        \item<2-> Þú byrjar í $(0, 0)$ og færð gefnar skipanir.
        \item<3-> Skipanirnar eru allar einn bókstafur og ein tala.
        \item<4-> Ef skipunin er...
        \env{itemize}
        {
            \item<5-> ...\ilcode{f x} gengur þú áfram um $x$ metra.
            \item<6-> ...\ilcode{b x} gengur þú aftur á bak um $x$ metra.
            \item<7-> ...\ilcode{r x} snýrð þú þér um $x$ radíana til hægri.
            \item<8-> ...\ilcode{l x} snýrð þú þér um $x$ radíana til vinstri.
        }
        \item<9-> Hversu langt ertu frá $(0, 0)$, eftir að hafa fylgt öllum skipununum.
    }
}

\subsection{Lausn}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Ef við erum í $p \in \mathbb{C}$ og viljum taka $r$ metra skref í stefnu $\theta$ getum við einfaldlega lagt $re^{i\theta}$ við $p$.
        \item<2-> Hvert við snúum í upphafi skiptir ekki mál því það hefur ekki áhrif á fjarlægðinni til $(0, 0)$.
    }
}

\subsection{Útfærsla}
\env{frame}
{
    \selectcode{code/daemi.c}{5}{23}
}

\section{Línur}
\subsection{Skilgreining á línum}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Tveir ólíkir punktar skilgreina nákvæmlega eina línu.
        \item<2-> Svo við getum einfaldlega sagt að lína sé tveir ólíkir punktar.
        \item<3-> Helsti ókostur þessa aðferðar er að sama línan getur verið skilgreind með mismunandi pörum af punktum.
        \item<4-> Stundum hentar betur að skilgreina línu sem skurðpunkt við $y$-ás og hallatölu. 
        \item<5-> Þá er einfaldara að bera saman línur en það þarf að höndla sérstaklega línur samsíða $y$-ás.
    }
}

\iffalse

\subsection{Skurðpunktur lína}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Ef tvær línur eru ekki samsíða þá skerast þær í nákvæmlega einum punkti.
        \item<2-> Við þurfum oft að finna þennan punkt.
        \item<3-> Gefum okkur tvær línur $\{(x, y) : ax + by=c\}$ og $\{(x, y) : dx + ey=f\}$.
        \item<4-> Gerum ráð fyrir að línurnar séu ekki samsíða.
        \item<5-> Skurðpunkturinn fæst þá greinilega með því að leysa jöfnuhneppið
        \[
            \left (
            \begin{array}{c c | c}
                a & b & c\\
                d & e & f
            \end{array}
            \right )
        \]
    }
}

\subsection{Lausn}
\env{frame}
{
    \[
        \left (
        \begin{array}{c c}
            a & b\\
            d & e
        \end{array}
        \right )
        \left (
        \begin{array}{c}
            x\\
            y
        \end{array}
        \right )
        =
        \left (
        \begin{array}{c}
            c\\
            f
        \end{array}
        \right )
    \]
    \pause 
    \[
        \Rightarrow
        \left (
        \begin{array}{c}
            x\\
            y
        \end{array}
        \right )
        =
        \left (
        \begin{array}{c c}
            a & b\\
            d & e
        \end{array}
        \right )^{-1}
        \left (
        \begin{array}{c}
            c\\
            f
        \end{array}
        \right )
    \]
    \pause 
    \[
        \Rightarrow
        \left (
        \begin{array}{c}
            x\\
            y
        \end{array}
        \right )
        =
        \frac{1}{ae - bd}
        \left (
        \begin{array}{c c}
            e & -b\\
            -d & a
        \end{array}
        \right )
        \left (
        \begin{array}{c}
            c\\
            f
        \end{array}
        \right )
    \]
    \pause 
    \[
        \Rightarrow
        \left (
        \begin{array}{c}
            x\\
            y
        \end{array}
        \right )
        =
        \frac{1}{ae - bd}
        \left (
        \begin{array}{c}
            ce - bf\\
            af - cd
        \end{array}
        \right )
    \]
    \pause 
    \[
        \Rightarrow
        \left (
        \begin{array}{c}
            x\\
            y
        \end{array}
        \right )
        =
        \left (
        \begin{array}{c}
            \frac{ce - bf}{ae - bd}\\
            \frac{af - cd}{ae - bd}
        \end{array}
        \right )
    \]
}

\fi

\section{Línustrik og fjarlægð milli línustrika}
\subsection{Skilgreining á línustrikum}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Venjan er að skilgreina línustrik sem par punkta, nánar tiltekið endapunkta línustriksins.
        \item<2-> Markmið okkar í þessum hluta af fyrirlestrinu verður að útfæra fall sem finnur fjarlægð milli línustrika.
        \item<3-> Við munum byrja á að útfæra góð hjálparföll sem nýtast meðal annars í að finna þessa fjarlægð, en eru einnig
                    hentug í öðrum dæmum.
    }
}

\subsection{Yfirlit yfir föllin sem verða útfærð}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Við munum útfæra:
        \env{itemize}
        {
            \item<2-> Fall sem skoðar hvort tvö bil skerist (\ilcode{bxb(...)}).
            \item<3-> Fall sem skoðar hvort línustrik skerist (\ilcode{lxl(...)}).
            \item<4-> Fall sem finnur stystu fjarlægð punkts og línustriks (\ilcode{p2l(...)}).
            \item<5-> Fall sem finnur stystu fjarlægð tveggja línustrika (\ilcode{l2l(...)}).
        }
    }
}

\subsection{Skurður bila}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Þegar við viljum skoða skurð tveggja bila nægir okkur að skoða hvort annar endapunktur bils er í hinu bilinu.
        \item<2->[] \selectcode{code/fjarlaegd-milli-linustrika.c}{8}{13}
    }
}

\subsection{Skurður tveggja línustrika}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Látum $a, b, c, d$ vera endapunkta línustrikanna.
        \item<2-> Við viljum vita hvort punktarnir $c$ og $d$ séu hvor sínum megin við línuna gegnum punktanna $a$ og $b$.
        \item<3-> Við getum gert þetta með því að skoða í hvora áttina við beygjum ef göngum frá $a$ til $b$ og svo til $c$,
                    og síðan frá $a$ til $b$ og svo til $d$.
    }
}

\subsection{Athugasemd um sértilfelli}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Það eru leiðinleg sértilfelli þegar þrír af endapunktunum liggja á sömu línunni.
        \item<2-> Ég mun eftirláta ykkur að laga þessi sértilfelli, því þar sem við höfum aðallega
                    áhuga á að finna fjarlægð línustrika nægir að segja að línustrikin skerist ekki í þessu sértilfelli.
        \item<3-> Þetta mun skýrast betur á eftir.
    }
}

\subsection{Útfærsla}
\env{frame}
{
    \selectcode{code/fjarlaegd-milli-linustrika.c}{15}{30}
}

\subsection{Fjarlægð punkts og línustriks}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Til að finna fjarlægð frá punkti að línustriki getum við nýtt okkur að fjarlægðin breytist ekki ef við hliðrum og snúum punktunum.
        \item<2-> Við byrjum því á að hliðra þannig að annar endapunktur línustriksins verði $(0, 0)$.
        \item<3-> Við getum svo snúið um $(0, 0)$ þannig að línustrikið verði samsíða $x$-ásnum.
        \item<4-> Ef punkturinn liggur nú beint fyrir ofan eða neðan línustrikið þá er $y$-hnit punktsins (án formerkis) fjarlægðin frá línustrikinu.
        \item<5-> Annars þurfum við að skoða hvor endapunktur línustriksins er nær punktinum.
    }
}

\subsection{Útfærsla}
\env{frame}
{
    \selectcode{code/fjarlaegd-milli-linustrika.c}{32}{38}
}

\subsection{Fjarlægð milli tveggja línustrika}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Gefum okkur línustrikin $\langle a, b \rangle$ og $\langle c, d \rangle$.
        \item<2-> Ef þau skerast þá er fjarlægðin á milli þeirra $0$.
        \item<3-> Gerum því ráð fyrir að þau skerist ekki.
        \item<4-> Þá er bersýnilega fjarlægð línustrikana minnst á milli 
        \env{itemize}
        {
            \item<5-> $a$ og $\langle c, d \rangle$, 
            \item<6-> $b$ og $\langle c, d \rangle$, 
            \item<7-> $c$ og $\langle a, b \rangle$ eða 
            \item<8-> $d$ og $\langle a, b \rangle$.
        }
    }
}

\subsection{Athugasemd um úrkynjuð línustrik}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Hingað til höfum við gert ráð fyrir að endapunktar línustrikana séu mismunandi.
        \item<2-> En hvað gerum við ef línustrikin eru \emph{úrkynjuð}.
        \item<3-> Ef $a = b$ og $c = d$ þá er fjarlægð línustrikana fjarlægðin milli $a$ og $c$.
        \item<4-> Ef $a = b$ og $c \neq d$ þá er fjarlægð línustrikana fjarlægðin milli $a$ og $\langle c, d \rangle$.
        \item<5-> Ef $a \neq b$ og $c = d$ þá er fjarlægð línustrikana fjarlægðin milli $c$ og $\langle a, b \rangle$.
    }
}

\subsection{Útfærsla}
\env{frame}
{
    \selectcode{code/fjarlaegd-milli-linustrika.c}{40}{49}
}

\section{Marghyrningar}
\subsection{Skilgreiningar}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> \emph{Marghyrningur} er samfelldur, lokaður ferill í plani sem samanstendur af endanlega mörgum beinum línustrikum.
        \item<2-> Ef ferillinn er einfaldur þá kallast marghyrningurinn \emph{einfaldur}.
        \item<3-> Marghyrningur eru sagður vera \emph{kúptur} ef sérhver beina lína, sem liggur ekki ofan á hlið marghyrningsins,
                    sker mest tvo punkta á marghyrningnum.
    }
    \slidewidth
    {
        \env{tikzpicture}
        {
            \coordinate (A1) at (0,2) {};
            \coordinate (B1) at (4,0) {};
            \coordinate (C1) at (4,3) {};
            \coordinate (D1) at (3,4) {};
            \coordinate (E1) at (2,4) {};
            \coordinate (F1) at (1,5) {};
            \draw (A1) -- (B1) -- (C1) -- (D1) -- (E1) -- (F1) -- (A1);

            \coordinate (A2) at (7,2) {};
            \coordinate (B2) at (11,0) {};
            \coordinate (C2) at (7,3) {};
            \coordinate (D2) at (10,4) {};
            \coordinate (E2) at (9,4) {};
            \coordinate (F2) at (8,5) {};
            \draw (A2) -- (B2) -- (C2) -- (D2) -- (E2) -- (F2) -- (A2);

            \coordinate (A3) at (13,4) {};
            \coordinate (B3) at (13,0) {};
            \coordinate (C3) at (19,0) {};
            \coordinate (D3) at (19,4) {};
            \coordinate (E3) at (16,5) {};
            \draw (A3) -- (B3) -- (C3) -- (D3) -- (E3) -- (A3);
        }
    }
}

\subsection{Marghyrningar í tölvum}
\env{frame}
{
    \env{columns}
    {
        \env{column}
        {
            {0.7\textwidth}
            \env{itemize}
            {
                \item<1-> Þegar við viljum tákna marghyrning í tölvu notum við einfaldlega hornpunkta hans.
                \item<2-> Takið eftir að röð punktanna skiptir máli.
                \item<3-> Þar sem marghyrningar er mjög vinsælir í keppnum munum við fara í nokkur atriði sem er gott að kunna.
            }
        }
        \env{column}
        {
            {0.3\textwidth}
            \onslide<2->
            {
                \slidewidth
                {
                    \env{tikzpicture}
                    {
                        \coordinate (A1) at (0,2) {};
                        \coordinate (B1) at (2,2) {};
                        \coordinate (C1) at (2,0) {};
                        \coordinate (D1) at (0,0) {};
                        \draw (A1) -- (B1) -- (C1) -- (D1) -- (A1);

                        \coordinate (A2) at (4,2) {};
                        \coordinate (B2) at (6,0) {};
                        \coordinate (C2) at (6,2) {};
                        \coordinate (D2) at (4,0) {};
                        \draw (A2) -- (B2) -- (C2) -- (D2) -- (A2);
                    }
                }
            }
        }
    }
}

\subsection{Ummál marghyrnings}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Ummála marghyrnings er einfalt að reikna í línulegum tíma.
        \item<2-> Við leggjum bara saman allar hliðarlengdirnar.
        \item<3->[] \selectcode{code/flatarmal-og-ummal.c}{18}{23}
    }
}

\subsection{Flatarmál marghyrnings}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Ummál marghyrninga er þó ekki jafnt algengt í keppnum og flatarmál marghyrninga.
        \item<2-> Það er einnig auðvelt að reikna flatarmálið í línulegum tíma, þó það sé ekki
                    endilega augljóst að þetta skili flatarmálinu.
        \item<3-> Fyrir áhugasama er hægt að nota setningu Green til að leiða út eftirfarandi forritsbút.
        \item<4->[] \selectcode{code/flatarmal-og-ummal.c}{10}{17}
    }
}

\subsection{Neikvæð flatarmál útaf áttun stikunar}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Við þurfum að skila tölugildinu því við getum fengið neikvætt flatarmál.
        \item<2-> Neikvætt flatarmál hljómar kannski furðulega en það fellur eðlilega úr sönnun summunar
                    ef notast er við setningu Green.
        \item<3-> Til að nota hana þarf að reikna ferilheildi og útkoman úr ferilheildum skiptir
                    um formerki þegar breytt er um átt stikunar ferilsins.
        \item<4-> Þetta þýðir að formerki \ilcode{r} eftir forlykkjuna er jákvætt ef punktar \ilcode{p} 
                    eru gefnir rangsælis og neikvætt ef þeir eru gefnir réttsælis.
    }
}

\section{Dæmi: Punktur í marghyrning}
\subsection{Lýsing}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Að ákvarða hvort punktur sé inni í marghyrning er algent undirvandamál í rúmfræði dæmum.
        \item<2-> Aðallega er gengist við tvær aðferðir til að leysa slík dæmi, sú fyrri er að nota \emph{geislarakningu}
                    (e. \emph{raytracing}) og hin er að reikna summu aðliggjandi horna marghyrningsins miðað við punktinn.
        \item<3-> Það er svo til þriðja, hraðari, aðferð sem virkar bara ef marghynrningurinn er kúptur
        \item<4-> Hún byggist á að helmingunarleita stefnuhornið punktsins.
            %TODO: Gera þetta kannski.
    }
}

\subsection{Aðferð 1: Geislarakning}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Við getum dregið geisla frá punktinum sem við viljum skoða í einhverja átt og talið hversu oft
                    við skerum jaðar marghyrningsins. 
        \item<2-> Ef við erum fyrir utan marghyrninginn og skerum jaðarinn erum við inni í honum,
                    en ef við erum fyrir innan og skerum jaðarinn erum við fyrir utan (þetta er í raun skilgreining
                    á því hvenær geislinn \emph{sker} marghyrninginn).
        \item<3-> Svo ef við skerum jaðarinn slétt tölu sinnum er punkturinn fyrir innan, og annars fyrir utan (setning Jordan).
        \item<4-> Við getum látið geislann vera línustrik, nógu langt til að vera út fyrir marghyrninginn, og
                    notað síðan \ilcode{lxl(...)} til að ákvarða í $\mathcal{O}($\onslide<5->{$\,n\,$}$)$ hversu oft geislinn sker marghyrninginn.
    }
}

\subsection{Sýnidæmi}
\env{frame}
{
    \center
    \scalebox{1.0}
    {
        \env{tikzpicture}
        {
            \coordinate (A) at (-1,-1) {};
            \coordinate (B) at (-1,1) {};
            \coordinate (C) at (3,1) {};
            \coordinate (D) at (4,0) {};
            \coordinate (E) at (5,1) {};
            \coordinate (F) at (6,1) {};
            \coordinate (G) at (7,0) {};
            \coordinate (H) at (6,-1) {};

            \coordinate (P1) at (0,-0.5) {};
            \coordinate (P2) at (0,0) {};
            \coordinate (P3) at (-2,0.5) {};
            \coordinate (Q1) at (10,-0.5) {};
            \coordinate (Q2) at (10,0) {};
            \coordinate (Q3) at (10,0.5) {};
            \draw[dashed, white] (P3) -- (Q3);
            \draw[dashed, white] (P2) -- (Q2);
            \draw[dashed, white] (P3) -- (Q3);
            \draw (A) -- (B) -- (C) -- (D) -- (E) -- (F) -- (G) -- (H) -- (A);
            \filldraw (P1) circle (0.05);
            \filldraw (P2) circle (0.05);
            \filldraw (P3) circle (0.05);
            \onslide<all:2-> { \draw[dashed] (P1) -- (Q1); }
            \onslide<all:3-> { \draw[dashed] (P2) -- (Q2); }
            \onslide<all:4-> { \draw[dashed] (P3) -- (Q3); }
        }
    }
}

\subsection{Rökstuðning fyrir því að nota ekki þessa aðferð}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Þessi aðferð er með nokkur sértilfelli sem gerir hana óþægilega í útfærslu.
        \item<2-> Öll sértilfellin eiga það sameiginlegt að vera þegar geislinn sker endapunkta línustrika marghyrningsins.
        \item<3-> Ef marghyrningurinn er kúptur er nokkuð auðvelt að eiga við þessi sértilfelli, en það gildir ekki í flestum dæmum.
        \item<4-> Þessi aðferð verður því ekki úrfærð hér.
    }
}

\subsection{Aðferð 2: Afstæð hornasumma}
\env{frame}
{
    \env{columns}
    {
        \env{column}
        {
            {0.7\textwidth}
            \env{itemize}
            {
                \item<1-> Látum $p_i$, $i < n$, tákna hornpunkta marghyrnings, $q$ einhvern punkt, $\alpha(a, b, c)$ vera
                            hornið milli $a$, $b$ og $c$ og $\beta(a, b, c)$ vera $1$ ef brotna línustrikið
                            $\langle a, b, c \rangle$ ,,beygir'' til vinstri en $-1$ annars.
                \item<2-> \emph{Afstæð hornsumma marghyrnings með tilliti til punkts $q$} er
                            $\sum_{i = 0}^n \beta(q, p_i, p_{i + 1})\alpha(p_i, q, p_{i + 1})$.
                \item<3-> Ef $q$ er inni í marghyrningnum þá er þessi summa bersýnilega $2\pi$.
                \item<4-> Ef $q$ er fyrir utan marghyrninginn þá verður summan hins vegar $0$.
            }
        }
        \env{column}
        {
            {0.3\textwidth}
            \slidewidth
            {
                \env{tikzpicture}
                {
                    \coordinate (A) at (1,3) {};
                    \coordinate (B) at (0,0) {};
                    \coordinate (C) at (3,0) {};
                    \draw (A) -- (B) -- (C);
                    \draw pic[draw, angle radius = 0.5cm] {angle=C--B--A};

                    \node at (0.7, 3) {$a$};
                    \node at (-0.2, -0.2) {$b$};
                    \node at (3, -0.3) {$c$};
                    \node at (0.55, 0.45) {$\alpha$};
                    \filldraw (A) circle (0.05);
                    \filldraw (B) circle (0.05);
                    \filldraw (C) circle (0.05);
                }
            }
        }
    }
}

\subsection{Sýnidæmi}
\env{frame}
{
    \env{tikzpicture}
    {
        \coordinate (A) at (-1,-3) {};
        \coordinate (B) at (-1,3) {};
        \coordinate (C) at (3,3) {};
        \coordinate (D) at (4,0) {};
        \coordinate (E) at (5,3) {};
        \coordinate (F) at (6,3) {};
        \coordinate (G) at (7,0) {};
        \coordinate (H) at (6,-3) {};
        \draw (A) -- (B) -- (C) -- (D) -- (E) -- (F) -- (G) -- (H) -- (A);

        \coordinate (P1) at (-2,0.5) {};
        \coordinate (P2) at (0,-0.5) {};
        \coordinate (P3) at (4,2) {};
        \filldraw (P1) circle (0.05);
        \filldraw (P2) circle (0.05);
        \filldraw (P3) circle (0.05);
        \onslide<all:1>
        {
            \draw[dashed] (P1) -- (A);
            \draw[dashed] (P1) -- (B);
            \draw[dashed] (P1) -- (C);
            \draw[dashed] (P1) -- (D);
            \draw[dashed] (P1) -- (E);
            \draw[dashed] (P1) -- (F);
            \draw[dashed] (P1) -- (G);
            \draw[dashed] (P1) -- (H);
        }
        \onslide<all:2>
        {
            \draw[dashed] (P2) -- (A);
            \draw[dashed] (P2) -- (B);
            \draw[dashed] (P2) -- (C);
            \draw[dashed] (P2) -- (D);
            \draw[dashed] (P2) -- (E);
            \draw[dashed] (P2) -- (F);
            \draw[dashed] (P2) -- (G);
            \draw[dashed] (P2) -- (H);
        }
        \onslide<all:3>
        {
            \draw[dashed] (P3) -- (A);
            \draw[dashed] (P3) -- (B);
            \draw[dashed] (P3) -- (C);
            \draw[dashed] (P3) -- (D);
            \draw[dashed] (P3) -- (E);
            \draw[dashed] (P3) -- (F);
            \draw[dashed] (P3) -- (G);
            \draw[dashed] (P3) -- (H);
        }
    }
}

\subsection{Útfærsla}
\env{frame}
{
    \selectcode{code/punktur-i-marghyrningi.c}{9}{27}
}

\subsection{Tímaflækja}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Við skoðum hvern hornpunkt á marghyrningum einu sinni,
                    svo tímaflækjan er $\mathcal{O}(\onslide<2->{\,n\,})$.
        \item<3-> Almennt getum við ekki bætt þessa tímafælkju.
    }
}

\section{Kútpur hjúpur punktasafns}
\subsection{Lýsing}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> \emph{Kúptur hjúpur punktasafns} er minnsti kúpti marghyrningur sem inniheldur all punkta punktasafnsins.
        \item<2-> Maður getur ímyndað sér að maður taki teygju og strekki hana yfir punkta safnið og sleppi henni svo.
        \item<3-> Við munum nota aðferð sem kallast \emph{Graham's scan} til að finna kúpta hjúp punktasafns.
    }
    \center
    \scalebox{0.3}
    {
        \env{tikzpicture}
        {
            \coordinate (A) at (-2.4,-7.4) {};
            \coordinate (B) at (-5.1,-0.6) {};
            \coordinate (C) at (7.3,1.7) {};
            \filldraw[white] (A) circle (0.05); % fixes the text.
            \filldraw[white] (B) circle (0.05); % fixes the text.
            \filldraw[white] (C) circle (0.05); % fixes the text.

            \coordinate (P1) at (4.1,-0.6) {};
            \coordinate (P2) at (0,0) {};
            \coordinate (P3) at (-3,-3.4) {};
            \coordinate (P4) at (-2,-4) {};
            \coordinate (P5) at (-1,-2) {};
            \onslide<all:4->
            {
                \filldraw (P1) circle (0.05);
                \filldraw (P2) circle (0.05);
                \filldraw (P3) circle (0.05);
                \filldraw (P4) circle (0.05);
                \filldraw (P5) circle (0.05);
                \filldraw (A) circle (0.05);
                \filldraw (B) circle (0.05);
                \filldraw (C) circle (0.05);
            }	
            \onslide<all:5->
            {
                \draw[dashed] (A) -- (B) -- (C) -- (A);
            }
        }
    }
}

\subsection{Reiknirit Grahams}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Við leysum þetta með reikniriti Grahams (e. \emph{Graham's scan}).
        \item<2-> Við byrjum á að velja vendipunkt, yfirleitt látinn vera punkturinn neðst til vinstri.
        \item<3-> Við látum hann fremst í safnið og röðum svo restin miðið við hornið sem þeir mynda við vendipunktinn.
        \item<4-> Við gefum okkur svo hlaða og látum aftasta, fremsta og næst fremsta punktinn á hlaðann.
        \item<5-> Við göngum síðan í gegnum raðaða punkta safnið okkar og fyrir hvert stak fjarlægjum við ofan af hlaðanum
                    á meðan efstu tvö stökin á hlaðanum og stakið sem við erum á í listanum mynda hægri beygju. Þegar þau mynda
                    vinstri beygju bætum við stakinu úr safninu á hlaðann.
        \item<6-> Þegar við erum búin að fara í gegnum allt safnið er hlaðinn kúpti hjúpurinn.
    }
}

\subsection{Sýnidæmi}
\env{frame}
{
    \slidewidth
    {
        \env{tikzpicture}
        {
            \coordinate (P0) at (0,0) {};
            \coordinate (P1) at (10,1) {};
            \coordinate (P2) at (3,2) {};
            \coordinate (P3) at (4,4) {};
            \coordinate (P4) at (7,9) {};
            \coordinate (P5) at (2,8) {};
            \coordinate (P6) at (1,13) {};
            \coordinate (P7) at (-1,13) {};
            \coordinate (P8) at (-2,9) {};
            \coordinate (P9) at (-2,4) {};
            \coordinate (P10) at (-4,5) {};
            \coordinate (P11) at (-6,2) {};
            \filldraw (P0) circle (0.05);
            \filldraw (P1) circle (0.05);
            \filldraw (P2) circle (0.05);
            \filldraw (P3) circle (0.05);
            \filldraw (P4) circle (0.05);
            \filldraw (P5) circle (0.05);
            \filldraw (P6) circle (0.05);
            \filldraw (P7) circle (0.05);
            \filldraw (P8) circle (0.05);
            \filldraw (P9) circle (0.05);
            \filldraw (P10) circle (0.05);
            \filldraw (P11) circle (0.05);
            \node[white] at (0,0.3)   {$0$};
            \node[white] at (10,1.3)  {$1$};
            \node[white] at (3,2.3)   {$2$};
            \node[white] at (4,4.3)   {$3$};
            \node[white] at (7,9.3)   {$4$};
            \node[white] at (2,8.3)   {$5$};
            \node[white] at (1,13.3)  {$6$};
            \node[white] at (-1,13.3) {$7$};
            \node[white] at (-2,9.3)  {$8$};
            \node[white] at (-2,4.3)  {$9$};
            \node[white] at (-4,5.3)  {$10$};
            \node[white] at (-6,2.3)  {$11$};
            \onslide<all:2->
            {
                \node at (0,0.3)   {$0$};
            }
            \onslide<all:3->
            {
                \node at (10,1.3)  {$1$};
                \node at (3,2.3)   {$2$};
                \node at (4,4.3)   {$3$};
                \node at (7,9.3)   {$4$};
                \node at (2,8.3)   {$5$};
                \node at (1,13.3)  {$6$};
                \node at (-1,13.3) {$7$};
                \node at (-2,9.3)  {$8$};
                \node at (-2,4.3)  {$9$};
                \node at (-4,5.3)  {$10$};
                \node at (-6,2.3)  {$11$};
            }
            \onslide<all:4-> { \draw (P11) -- (P0) -- (P1); }
            \onslide<all:5> { \draw[dashed](P1) -- (P2); }
            \onslide<all:6-7> { \draw(P1) -- (P2); }
            \onslide<all:7> { \draw[dashed](P2) -- (P3); }
            \onslide<all:8> { \draw[dashed](P1) -- (P3); }
            \onslide<all:9-10> { \draw(P1) -- (P3); }
            \onslide<all:10> { \draw[dashed](P3) -- (P4); }
            \onslide<all:11> { \draw[dashed](P1) -- (P4); }
            \onslide<all:12-> { \draw(P1) -- (P4); }
            \onslide<all:13> { \draw[dashed](P4) -- (P5); }
            \onslide<all:14-15> { \draw(P4) -- (P5); }
            \onslide<all:15> { \draw[dashed](P5) -- (P6); }
            \onslide<all:16> { \draw[dashed](P4) -- (P6); }
            \onslide<all:17-> { \draw(P4) -- (P6); }
            \onslide<all:18> { \draw[dashed](P6) -- (P7); }
            \onslide<all:19-> { \draw(P6) -- (P7); }
            \onslide<all:20> { \draw[dashed](P7) -- (P8); }
            \onslide<all:21-25> { \draw(P7) -- (P8); }
            \onslide<all:22> { \draw[dashed](P8) -- (P9); }
            \onslide<all:23-24> { \draw(P8) -- (P9); }
            \onslide<all:24> { \draw[dashed](P9) -- (P10); }
            \onslide<all:25> { \draw[dashed](P8) -- (P10); }
            \onslide<all:26> { \draw[dashed](P7) -- (P10); }
            \onslide<all:27-28> { \draw(P7) -- (P10); }
            \onslide<all:28> { \draw[dashed](P10) -- (P11); }
            \onslide<all:29> { \draw[dashed](P7) -- (P11); }
            \onslide<all:30-> { \draw(P7) -- (P11); }
        }
    }
}

\subsection{Útfærsla}
\env{frame}
{
    \selectcode{code/kuptur-hjupur.c}{15}{41}
}

\subsection{Tímaflækja}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Það er ljóst að í lok reikniritsins lýsir hlaðinn kúptum marghyrningi.
        \item<2-> Það er þó aðeins meira mál að sýna að þetta sé í raun kúpti hjúpur punktasafnsins.
        \item<3-> Við látum það ógert í þessum fyrirlestri.
        \item<4-> Ef punktasafnið inniheldur $n$ punkta þá er reikniritið $\mathcal{O}($\onslide<5->{$n \log n$}$)$ því við þurfum að raða punktunum.
    }
}

\section{Þessi glæra er viljandi auð}
\env{frame}
{
}

\end{document}
