\title{Reiknirit Kruskals ($1956$)}
\author{Bergur Snorrason}
\date{\today}

\begin{document}

\frame{\titlepage}

\section{Skilgreining á spannandi tré}
\env{frame}
{
\env{itemize}
    {
        \item<1-> Gerum ráð fyrir að við séum með samanhangandi óstenft net $G = (V, E)$.
        \item<2-> Munið að net kallast tré ef það er samanhanhandi og órásað.
        \item<3-> Auðvelt er að sýna með þrepun að við getum gert $G$ að tréi með því að fjarlægja leggi.
        \item<4-> Einnig má sýna að tré uppfyllir alltaf $|E| = |V| - 1$.
        \item<5-> Ef $G'$ er tré sem fæst með því að fjarlægja leggi úr $G$ þá köllum við $G'$ \emph{spannandi tré $G$} (e. \emph{spanning tree}).
    }
}

\section{Stærðir spannandi trjáa}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Ef $G = (V, E, w)$ er vegið net og $G' = (V', E')$ er spannandi tré netsins $(V, E)$ þá segjum við að \emph{stærðin}
                    á spannandi trénu sé
            \[
            S(G') = \sum_{e \in E'} w(e).
                \]
        \item<2-> Hvernig förum við að því að finna $G'$ þannig að $S(G')$ sé sem minnst.
        \item<3-> Slíkt $G'$ er kallað \emph{minnsta spannandi tré netsins $G$} (e. \emph{minimum spanning tree}),
            þó svo að það sé ekki ótvírætt ákvarðað.
        \item<4-> Við getum fundið minnsta spannandi tré gráðugt.
    }
}

\section{Lausn}
\env{frame}
{
\env{itemize}
    {
        \item<1-> Við getum lýst aðferðinni í einni málgrein.
        \item<2-> Við bætum alltaf við minnsta leggnum sem myndar ekki rás.
        \item<3-> Hvernig getum við gert þetta á hagkvæman hátt.
        \item<4-> Við byrjum með net með $|V|$ hnúta en enga leggi.
        \item<5-> Gerum ráð fyrir að við höfum bætt við nokkrum leggjum sem mynda ekki rás.
        \item<6-> Ef við viljum bæta við leggnum $(u, v)$ þá erum við í raun að sameina samhengisþættina sem hnútarnir $u$ og $v$ tilheyra.
        \item<7-> Ef þeir tilheyra sama samhengisþætti þá myndast rás við það að bæta við leggnum.
        \item<8-> Svo við getum notað \onslide<9->{sammengisleit} til að segja til um hvort leggur myndi rás.
    }
}

\section{Sýnidæmi}
\env{frame}
{
    \env{center}
    {
        \env{tikzpicture}
        {
            \node[draw, circle, thick] (1) at (2,0) {};
            \node[draw, circle, thick] (2) at (2,2) {};
            \node[draw, circle, thick] (3) at (2,-2) {};
            \node[draw, circle, thick] (4) at (4,1) {};
            \node[draw, circle, thick] (5) at (4,-1) {};
            \node[draw, circle, thick] (6) at (6,0) {};
            \node[draw, circle, thick] (7) at (6,2) {};
            \node[draw, circle, thick] (8) at (6,-2) {};
            \node[draw, circle, thick] (9) at (8,0) {};

            \onslide<all:1> { \path[draw, thick] (1) -- (2); }
            \onslide<all:2> { \path[draw, thick, red] (1) -- (2); }
            \onslide<all:3-24> { \path[draw, thick, blue] (1) -- (2); }
            \node[fill = white] at (2,1) {$1$};

            \onslide<all:1-9> { \path[draw, thick] (2) -- (4); }
            \onslide<all:10> { \path[draw, thick, red] (2) -- (4); }
            \onslide<all:11-> { \path[draw, thick, blue] (2) -- (4); }
            \node[fill = white] at (3,1.5) {$3$};

            \onslide<all:1-3> { \path[draw, thick] (4) -- (5); }
            \onslide<all:4> { \path[draw, thick, red] (4) -- (5); }
            \onslide<all:5-> { \path[draw, thick, blue] (4) -- (5); }
            \node[fill = white] at (4,0) {$1$};

            \onslide<all:1-7> { \path[draw, thick] (3) -- (5); }
            \onslide<all:8> { \path[draw, thick, red] (3) -- (5); }
            \onslide<all:9-> { \path[draw, thick, blue] (3) -- (5); }
            \node[fill = white] at (3,-1.5) {$2$};

            \onslide<all:1-13> { \path[draw, thick] (1) -- (3); }
            \onslide<all:14> { \path[draw, thick, red] (1) -- (3); }
            \onslide<all:15-23> { \path[draw, thick, yellow] (1) -- (3); }
            \onslide<all:1-23> { \node[fill = white] at (2,-1) {$4$}; }

            \onslide<all:1-21> { \path[draw, thick] (4) -- (6); }
            \onslide<all:22> { \path[draw, thick, red] (4) -- (6); }
            \onslide<all:23-> { \path[draw, thick, blue] (4) -- (6); }
            \node[fill = white] at (5,0.5) {$9$};

            \onslide<all:1-15> { \path[draw, thick] (6) -- (8); }
            \onslide<all:16> { \path[draw, thick, red] (6) -- (8); }
            \onslide<all:17-> { \path[draw, thick, blue] (6) -- (8); }
            \node[fill = white] at (6,-1) {$5$};

            \onslide<all:1-5> { \path[draw, thick] (8) -- (9); }
            \onslide<all:6> { \path[draw, thick, red] (8) -- (9); }
            \onslide<all:7-> { \path[draw, thick, blue] (8) -- (9); }
            \node[fill = white] at (7,-1) {$1$};

            \onslide<all:1-17> { \path[draw, thick] (7) -- (9); }
            \onslide<all:18> { \path[draw, thick, red] (7) -- (9); }
            \onslide<all:19-> { \path[draw, thick, blue] (7) -- (9); }
            \node[fill = white] at (7,1) {$5$};

            \onslide<all:1-19> { \path[draw, thick] (6) -- (9); }
            \onslide<all:20> { \path[draw, thick, red] (6) -- (9); }
            \onslide<all:21-23> { \path[draw, thick, yellow] (6) -- (9); }
            \onslide<all:1-23> { \node[fill = white] at (7,0) {$7$}; }

            \onslide<all:1-11> { \path[draw, thick] (1) -- (5); }
            \onslide<all:12> { \path[draw, thick, red] (1) -- (5); }
            \onslide<all:13-23> { \path[draw, thick, yellow] (1) -- (5); }
            \onslide<all:1-23> { \node[fill = white] at (3,-0.5) {$3$}; }
        }
    }
}

\section{Atriði um útfærslu}
\env{frame}
{
    \env{itemize}
    {
        \item<1-> Við höfum ekki áhuga á nágrönnum hnúta heldur vigtum á leggjum svo við notum leggjalista í útfærslunni okkar.
        \item<2-> Við byrjum á að raða leggjalistanum eftir vigt leggjanna.
        \item<3-> Við göngum síðan á leggina og:
        \env{itemize}
        {
            \item<4-> Gerum ekkert ef leggurinn myndar rás (\ilcode{find(u) == find(v)}).
            \item<5-> Bætum leggnum í spannandi tréð ef hann myndar ekki rás og sameinum í sammengisleitinn (\ilcode{join(u, v)}).
        }
    }
}

\env{frame}
{
\env{itemize}
    {
        \item<1-> Þetta reiknirit skilar alltaf spannandi tré, en það er meiri vinna að sýna að það sé ekki til minna spannandi tré.
        \item<2-> Við munum ekki týnast í slíkum smáatriðum hér.
    }
}

\section{Útfærsla}
\env{frame}
{
    \selectcode{code/kruskal.c}{3}{4}
    \selectcode{code/kruskal.c}{24}{37}
}

\section{Tímaflækja}
\env{frame}
{
\env{itemize}
    {
        \item<1-> Það fyrsta sem við gerum er að raða leggjunum, sem við gerum í $\mathcal{O}(\onslide<2->{E \log E})$ tíma.
        \item<3-> Síðan ítrum við í gegn leggina og framkvæmum fastann fjölda af sammengisleitaraðgerðum fyrir hvern legg, sem tekur
            $\mathcal{O}(\onslide<4->{E \alpha(V)})$ tíma.
        \item<5-> Saman er þetta því $\mathcal{O}(E \log E + E \alpha(V)) = \mathcal{O}(\onslide<6->{E \log E})$.
    }
}

\section{Þessi glæra er viljandi auð}
\env{frame}
{
}

\end{document}
