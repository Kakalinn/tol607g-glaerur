\title{Dýptarleit og breiddarleit}
\author{Bergur Snorrason}
\date{\today}

\begin{document}

\frame{\titlepage}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Hvernig ítrum við í gegnum alla hnúta nets.
		\item<2-> Þetta má að sjálfsögðu gera á marga vegu, en algengt er að notast við annað að tvennu:
		\env{itemize}
		{
			\item<3-> \emph{Dýptarleit} (e. \emph{deapth-first search}).
			\item<4-> \emph{Breiddarleit} (e. \emph{breadth-first search}).
		}
		\item<5-> Báðar aðferðir byggja á því að byrja í einhverjum hnút og heimsækja svo nágranna hans.
	}
}

\env{frame}
{
	\frametitle{Dýptarleit}
	\env{itemize}
	{
		\item<1-> Dýptarleit byrjar í einhverjum hnút.
		\item<2-> Sá hnútur er kallaður \emph{upphafshnúturinn}.
		\item<3-> Í hverju skrefi heimsækir leitin einhvern nágranna hnútsins sem hefur ekki verið heimsóttur áður í leitinni.
		\item<4-> Ef allir nágrannar hafa verið heimsóttir þá er farið til baka og nágrannar síðasta hnúts eru skoðaðir.
		\item<5-> Tökum dæmi.
	}
}

\env{frame}
{
	\env{center}
	{
		\env{tikzpicture}
		{
			\only<all:1>{\node[draw, circle, thick] (1) at (2,0) {\phantom{x}};}
			\only<all:2-3>{\node[draw, circle, thick] (1) at (2,0) {x};}
			\only<all:4-25, 27->{\node[draw, circle, thick, blue] (1) at (2,0) {\phantom{x}};}
			\only<all:26>{\node[draw, circle, thick, blue] (1) at (2,0) {x};}

			\only<all:1-2>{\node[draw, circle, thick] (2) at (2,2) {\phantom{x}};}
			\only<all:3>{\node[draw, circle, thick, yellow] (2) at (2,2) {\phantom{x}};}
			\only<all:4-5>{\node[draw, circle, thick] (2) at (2,2) {x};}
			\only<all:6-24, 26->{\node[draw, circle, thick, blue] (2) at (2,2) {\phantom{x}};}
			\only<all:25>{\node[draw, circle, thick, blue] (2) at (2,2) {x};}

			\only<all:1-2, 4-20>{\node[draw, circle, thick] (3) at (2,-2) {\phantom{x}};}
			\only<all:3, 21>{\node[draw, circle, thick, yellow] (3) at (2,-2) {\phantom{x}};}
			\only<all:22>{\node[draw, circle, thick] (3) at (2,-2) {x};}
			\only<all:23->{\node[draw, circle, thick, blue] (3) at (2,-2) {\phantom{x}};}

			\only<all:1-4>{\node[draw, circle, thick] (4) at (4,1) {\phantom{x}};}
			\only<all:5>{\node[draw, circle, thick, yellow] (4) at (4,1) {\phantom{x}};}
			\only<all:6-7>{\node[draw, circle, thick] (4) at (4,1) {x};}
			\only<all:8-17, 20-23, 25->{\node[draw, circle, thick, blue] (4) at (4,1) {\phantom{x}};}
			\only<all:18-19, 24>{\node[draw, circle, thick, blue] (4) at (4,1) {x};}

			\only<all:1-2, 4-6, 8-18>{\node[draw, circle, thick] (5) at (4,-1) {\phantom{x}};}
			\only<all:3, 7, 19>{\node[draw, circle, thick, yellow] (5) at (4,-1) {\phantom{x}};}
			\only<all:20-21>{\node[draw, circle, thick] (5) at (4,-1) {x};}
			\only<all:22, 24->{\node[draw, circle, thick, blue] (5) at (4,-1) {\phantom{x}};}
			\only<all:23>{\node[draw, circle, thick, blue] (5) at (4,-1) {x};}

			\only<all:1-6>{\node[draw, circle, thick] (6) at (6,0) {\phantom{x}};}
			\only<all:7>{\node[draw, circle, thick, yellow] (6) at (6,0) {\phantom{x}};}
			\only<all:8-9>{\node[draw, circle, thick] (6) at (6,0) {x};}
			\only<all:10-16, 18->{\node[draw, circle, thick, blue] (6) at (6,0) {\phantom{x}};}
			\only<all:17>{\node[draw, circle, thick, blue] (6) at (6,0) {x};}

			\only<all:1-10>{\node[draw, circle, thick] (7) at (6,2) {\phantom{x}};}
			\only<all:11>{\node[draw, circle, thick, yellow] (7) at (6,2) {\phantom{x}};}
			\only<all:12>{\node[draw, circle, thick] (7) at (6,2) {x};}
			\only<all:13->{\node[draw, circle, thick, blue] (7) at (6,2) {\phantom{x}};}

			\only<all:1-8, 10, 12-13>{\node[draw, circle, thick] (8) at (6,-2) {\phantom{x}};}
			\only<all:9, 11, 14>{\node[draw, circle, thick, yellow] (8) at (6,-2) {\phantom{x}};}
			\only<all:15>{\node[draw, circle, thick] (8) at (6,-2) {x};}
			\only<all:16->{\node[draw, circle, thick, blue] (8) at (6,-2) {\phantom{x}};}

			\only<all:1-8>{\node[draw, circle, thick] (9) at (8,0) {\phantom{x}};}
			\only<all:9>{\node[draw, circle, thick, yellow] (9) at (8,0) {\phantom{x}};}
			\only<all:10-11>{\node[draw, circle, thick] (9) at (8,0) {x};}
			\only<all:12, 15, 17->{\node[draw, circle, thick, blue] (9) at (8,0) {\phantom{x}};}
			\only<all:13-14, 16>{\node[draw, circle, thick, blue] (9) at (8,0) {x};}

			\path[draw] (1) -- (2) -- (4) -- (5) -- (3) -- (1);
			\path[draw] (4) -- (6) -- (8) -- (9) -- (7);
			\path[draw] (6) -- (9);
			\path[draw] (1) -- (5);
		}
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Þegar kemur að því að útfæra dýptarleit er oftast notast við endurkvæmni.
		\item<2-> Endurkvæmnin sér sjálkrafa um að ,,fara til baka''.
		\item<3->[]	\selectcode{code/dfs.cpp}{7}{14}
		\item<4-> Eftir kall á \texttt{dfs(0)} segir \texttt{v[j]} okkur hvort til sé vegur frá hnúti \texttt{0} til hnúts \texttt{j}.
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Tökum eftir að leitin heimsækir hvern hnút í mesta lagi einu sinni og
					ferðast eftir hverjum legg í mesta lagi tvisvar (einu sinni í stefndu neti).
		\item<2-> Svo tímaflækjan er $\mathcal{O}($\onslide<3->{$E + V$}$)$.
		\item<4-> Við getum í rauninni ekki beðið um betri tímaflækju.
		\item<5-> Við munum alltaf þurfa að skoða alla hnúta og ef við skoðum ekki alla leggi þá erum við að hunsa uppbyggingu netsins.
	}
}

\env{frame}
{
	\frametitle{Breiddarleit}
	\env{itemize}
	{
		\item<1-> Við byrjum á að merkja alla hnúta sem ,,ósnerta'', nema við merkjum einn hnút sem ,,séðan''.
		\item<2-> Sá hnútur er kallaður \emph{upphafshnúturinn}.
		\item<3-> Við endurtökum svo sömu skrefin þar til engir ,,séðir'' hnútar eru eftir:
		\env{itemize}
		{
			\item<4-> Veljum þann ,,séða'' hnút sem við sáum fyrst.
			\item<5-> Merkjum alla ,,ósnerta'' nágranna hans sem ,,séða''.
			\item<6-> Merkjum upprunalegu hnútinn ,,kláraðann''.
		}
		\item<7-> Tökum dæmi.
		\item<8-> Við munum merkja ,,séða'' hnúta með hvenær við sáum þá.
	}
}

\env{frame}
{
	\env{center}
	{
		\env{tikzpicture}
		{
			\only<all:1>{\node[draw, circle, thick] (1) at (2,0) {\phantom{0}};}
			\only<all:2-4>{\node[draw, circle, thick, red] (1) at (2,0) {0};}
			\only<all:5->{\node[draw, circle, thick, blue] (1) at (2,0) {0};}

			\only<all:1-2>{\node[draw, circle, thick] (2) at (2,2) {\phantom{1}};}
			\only<all:3>{\node[draw, circle, thick, yellow] (2) at (2,2) {\phantom{1}};}
			\only<all:4-5>{\node[draw, circle, thick, yellow] (2) at (2,2) {1};}
			\only<all:6-8>{\node[draw, circle, thick, red] (2) at (2,2) {1};}
			\only<all:9->{\node[draw, circle, thick, blue] (2) at (2,2) {1};}

			\only<all:1-2>{\node[draw, circle, thick] (3) at (2,-2) {\phantom{1}};}
			\only<all:3>{\node[draw, circle, thick, yellow] (3) at (2,-2) {\phantom{1}};}
			\only<all:4-9>{\node[draw, circle, thick, yellow] (3) at (2,-2) {1};}
			\only<all:10>{\node[draw, circle, thick, red] (3) at (2,-2) {1};}
			\only<all:11->{\node[draw, circle, thick, blue] (3) at (2,-2) {1};}

			\only<all:1-6>{\node[draw, circle, thick] (4) at (4,1) {\phantom{2}};}
			\only<all:7>{\node[draw, circle, thick, yellow] (4) at (4,1) {\phantom{2}};}
			\only<all:8-13>{\node[draw, circle, thick, yellow] (4) at (4,1) {2};}
			\only<all:14-16>{\node[draw, circle, thick, red] (4) at (4,1) {2};}
			\only<all:17->{\node[draw, circle, thick, blue] (4) at (4,1) {2};}

			\only<all:1-2>{\node[draw, circle, thick] (5) at (4,-1) {\phantom{1}};}
			\only<all:3>{\node[draw, circle, thick, yellow] (5) at (4,-1) {\phantom{1}};}
			\only<all:4-11>{\node[draw, circle, thick, yellow] (5) at (4,-1) {1};}
			\only<all:12>{\node[draw, circle, thick, red] (5) at (4,-1) {1};}
			\only<all:13->{\node[draw, circle, thick, blue] (5) at (4,-1) {1};}

			\only<all:1-14>{\node[draw, circle, thick] (6) at (6,0) {\phantom{3}};}
			\only<all:15>{\node[draw, circle, thick, yellow] (6) at (6,0) {\phantom{3}};}
			\only<all:16-17>{\node[draw, circle, thick, yellow] (6) at (6,0) {3};}
			\only<all:18-20>{\node[draw, circle, thick, red] (6) at (6,0) {3};}
			\only<all:21->{\node[draw, circle, thick, blue] (6) at (6,0) {3};}

			\only<all:1-24>{\node[draw, circle, thick] (7) at (6,2) {\phantom{5}};}
			\only<all:25>{\node[draw, circle, thick, yellow] (7) at (6,2) {\phantom{5}};}
			\only<all:26-27>{\node[draw, circle, thick, yellow] (7) at (6,2) {5};}
			\only<all:28>{\node[draw, circle, thick, red] (7) at (6,2) {5};}
			\only<all:29->{\node[draw, circle, thick, blue] (7) at (6,2) {5};}

			\only<all:1-18>{\node[draw, circle, thick] (8) at (6,-2) {\phantom{4}};}
			\only<all:19>{\node[draw, circle, thick, yellow] (8) at (6,-2) {\phantom{4}};}
			\only<all:20-21>{\node[draw, circle, thick, yellow] (8) at (6,-2) {4};}
			\only<all:22>{\node[draw, circle, thick, red] (8) at (6,-2) {4};}
			\only<all:23->{\node[draw, circle, thick, blue] (8) at (6,-2) {4};}

			\only<all:1-18>{\node[draw, circle, thick] (9) at (8,0) {\phantom{4}};}
			\only<all:19>{\node[draw, circle, thick, yellow] (9) at (8,0) {\phantom{4}};}
			\only<all:20-23>{\node[draw, circle, thick, yellow] (9) at (8,0) {4};}
			\only<all:24-26>{\node[draw, circle, thick, red] (9) at (8,0) {4};}
			\only<all:27->{\node[draw, circle, thick, blue] (9) at (8,0) {4};}

			\path[draw] (1) -- (2) -- (4) -- (5) -- (3) -- (1);
			\path[draw] (4) -- (6) -- (8) -- (9) -- (7);
			\path[draw] (6) -- (9);
			\path[draw] (1) -- (5);
		}
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Við munum halda utan um ,,séða'' hnúta með biðröð.
		\item<2-> Við byrjum því á að setja upphafshnútinn okkar í biðröðina.
		\item<3-> Við tökum svo hnút úr biðröðinni, setjum alla ,,óséða'' nágranna hans í biðröðina og höldum áfram þangað til biðröðin er tóm.
		\item<4->[] \selectcode{code/bfs.cpp}{22}{35}
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Við segjum að hnútar $u$ og $v$ séu fjarlægð $k$ frá hvorum öðrum ef stysti vegurinn frá $u$ til $v$ er af lengd $k$.
		\item<2-> Við segjum líka að það séu $k$ skref á milli hnútanna.
		\item<3-> Ef enginn vegur er á milli hnútanna segjum við að lengdin á milli þeirra sé $\infty$.
		\item<4-> Mikilvægur eiginleiki breiddarleitar er að hún heimsækir fyrst þá hnúta sem eru næst upphafshnútnum.
		\item<5-> Með öðrum orðum, ef $u$ er $k_1$ skref frá upphafshnútnum og $v$ er $k_2$ skref frá upphafshnútunum, $k_1 \neq k_2$,
					þá heimsækir breiddarleit $u$ á undan $v$ þá og því aðeins að $k_1 < k_2$.
		\item<6-> Við getum því notað breiddarleit til að finna fjarlægðina frá upphafshnútnum að öllum öðrum hnútum.
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Líkt og í dýptarleit þá heimsækjum við hvern hnút í mesta lagi einu sinni og
					ferðumst eftir hverjum legg í mesta lagi tvisvar (einu sinni í stefndu neti).
		\item<2-> Svo tímaflækjan er aftur $\mathcal{O}($\onslide<3->{$E + V$}$)$.
	}
}

\env{frame}
{
	\frametitle{Samanburður}
	\env{itemize}
	{
		\item<1-> Báðar leitirnar segja okkur til hvaða hnúta má komast frá upphafshnútnum og gera það með sömu tímaflækju.
		\item<2-> Breiddarleit gefur okkur einnig fjarlægð allra hnúta frá upphafshnútnum.
		\item<3-> Í dýptarleit getum við unnið áfram með gögnin eftir endurkvæma kallið okkar, sem býður upp á mikla fjölbreyttni.
		\item<4-> Dýptarleit má því finna í reikniritum sem finna grannröð neta, tengipunkta og brýr (þetta verður allt skilgreint seinna).
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Fyrsta lína inntaksins inniheldur tvær heiltölur, $r$ og $c$.
		\item<2-> Inntakið inniheldur síðan $r$ strengir, allir af lengd $c$.
		\item<3-> Strengirnar byrjar og enda allir á \texttt{`X'} ásamt því að fyrsti og síðasti strengurinn inniheldur bara stafinn \texttt{`X'}.
		\item<4-> Annars innihalda strengirnir bara stafina \texttt{`X'}, \texttt{`.'} og eitt stykki \texttt{`O'}.
		\item<5-> Dæmi um slíkan streng er:
		\code{code/2.in}
		\item<6-> Við viljum svo prenta sama borð, nema í stað bókstafana á að koma hversu fá skref við þurfum að taka til frá \texttt{`O'}
					til að komast þangað ef við megum ferðast upp, niður, til hægri og til vinstri, en ekki á reitunum með \texttt{`X'}.
		\item<7-> Fyrir þá reiti sem við komumst ekki á prentum við \texttt{-1}.
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Sem dæmi hefur inntakið
				\code{code/2.in}
					úttakið	
				\code{code/2.ans}
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1-> Við getum túlkað þessa mynd sem net.
		\item<2-> Ímyndum okkur að hver auður reitur sé hnútur.
		\item<3-> Við tengjum svo aðliggjandi auða hnúta með leggjum.
		\item<4-> Þar sem við viljum finna fjalægðir frá tilteknum hnút til allra annara hnúta notum við \onslide<5->{breiddar}leit.
		\item<6-> Fjöldi hnúta í netinu er alltaf minni en $r \cdot c$ og fjöldi leggja er alltaf minni en $2 \cdot r \cdot c$.
		\item<7-> Svo þetta reiknirit er $\mathcal{O}($\onslide<8->{$E + V$}$) = \mathcal{O}($\onslide<9->{$r \cdot c$}$)$.
	}
}

\env{frame}
{
	\code{code/daemi.cpp}
}

\env{frame}
{
	\frametitle{Tæmandi leit á vegi}
	\env{itemize}
	{
		\item<1-> Við getum breitt dýptarleitar útfærslunni okkar lítillega til að finna alla einfalda vegi í neti sem byrja í tilteknum hnút.
		\item<2-> Til að koma í veg fyrir að heimsækja hnút oftar en einu sinni í dýpterleit merkjum við hann og heimsækjum ekki merkta hnúta.
		\item<3-> Við munum ennþá þurfa að merkja hnúta því við erum að leita að einföldum vegum (almennt er ekki takmarkaður fjöldi vega í neti).
		\item<4-> Munurinn er að við munum merkja hnút þegar við sjáum hann, halda áfram endurkvæmt til ómerktra nágranna hans og afmerkja hann svo.
	}
}

\env{frame}
{
	\env{itemize}
	{
		\item<1->[]	\selectcode{code/allir-vegir.cpp}{7}{18}
		\item<2-> Þetta forrit prentar alla einfalda vegi sem ekki mætti lengja.
		\item<3-> Til að hámarka fjölda slíkra vega getum við búið til net þar sem öll pör hnúta eru nágrannar.
		\item<4-> Þá myndi þetta forrit prenta allar umraðanir.
		\item<5-> Tímaflækjan er því $\mathcal{O}($\onslide<6->{$(V + 1)!$}$)$.
	}
}

\env{frame}
{
}

\end{document}
